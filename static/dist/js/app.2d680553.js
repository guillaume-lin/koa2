(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],m=0,d=[];m<o.length;m++)i=o[m],a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"079c":function(e,t,n){},"0ce2":function(e,t,n){"use strict";var s=n("931f"),a=n.n(s);a.a},"166d":function(e,t,n){"use strict";var s=n("1e8a"),a=n.n(s);a.a},1810:function(e,t,n){e.exports=n.p+"img/msg.1c0d8376.svg"},"1e8a":function(e,t,n){},"2a2d":function(e,t,n){},"2fcf":function(e,t,n){"use strict";var s=n("079c"),a=n.n(s);a.a},"3f2c":function(e,t,n){},4678:function(e,t,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return n(t)}function r(e){var t=s[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="4678"},5497:function(e,t,n){"use strict";var s=n("dd2c"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i=(n("7c55"),n("2877")),o={},c=Object(i["a"])(o,a,r,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,l=n("b970"),m=n("6112"),d=n.n(m),f=(n("157a"),n("a481"),n("7f7f"),n("96cf"),n("1da1")),p=(n("ac6a"),n("5df3"),n("4f7f"),n("8c4f")),b=function(){switch("production"){case"development":return"http://ua8ins.natappfree.cc";case"alpha":return"";case"production":return window.location.origin;default:return""}},h=function(){switch("production"){case"development":return"http://127.0.0.1:8080";case"alpha":return"";case"production":return window.location.origin;default:return""}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wx-login"},[e._v("请稍候...")])},g=[],k={data:function(){return{}},methods:{},mounted:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.post("/wxWeb/wxGetAuthorizeUrl",{targetUrl:"http://127.0.0.1:8080/member-info"},{withCredentials:!1});case 3:t=e.sent,console.log(t),location.href=t.url,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},j=k,x=(n("81eb"),Object(i["a"])(j,v,g,!1,null,"77621d85",null));x.options.__file="wx-login.vue";var y=x.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"wrapper",staticClass:"member-center",style:"background-position-y: "+e.positionY+"px"},[s("div",{staticClass:"member-center-operation"},[s("div",{staticClass:"member-center-operation-item",on:{click:function(t){e.$router.push({name:"member-exchange"})}}},[s("img",{attrs:{src:n("1810")}})]),e._m(0),e._m(1),e._m(2)]),e._l(e.tasks,function(t,n){return s("div",{key:t.taskId,style:"position: absolute;left: "+e.taskPosition[n][0]*e.widthP+"px; top: "+e.taskPosition[n][1]*e.heightP+"px;"},[s("l-game-dialog",[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",[e._v(e._s(t.desc))]),1===t.goalSort?s("div",[s("div",[e._v("目标：登录 "+e._s(t.goal)+" 次")]),t.taskId===e.currentTask.taskId?s("div",[e._v("已登录 "+e._s(-2===e.currentTask.progress?t.goal:e.currentTask.progress)+" 次")]):e._e()]):e._e(),3===t.goalSort?s("div",[s("div",[e._v("目标：分享 "+e._s(t.goal)+" 次")]),t.taskId===e.currentTask.taskId?s("div",[e._v("已分享 "+e._s(-2===e.currentTask.progress?t.goal:e.currentTask.progress)+" 次")]):e._e()]):e._e(),4===t.goalSort?s("div",[s("div",[e._v("目标：累计 "+e._s(t.goal)+" 芯豆")]),t.taskId===e.currentTask.taskId?s("div",[e._v("已有 "+e._s(-2===e.currentTask.progress?t.goal:e.currentTask.progress)+" 芯豆")]):e._e()]):e._e(),t.taskId===e.currentTask.taskId?s("div",[-2===e.currentTask.progress?s("van-button",{on:{click:e.rewardCurrentTask}},[e._v("完成任务")]):e._e()],1):e._e()]),e.currentTask.taskId===t.taskId?s("div",{style:"position: absolute; top: -"+e.blockHeight*e.heightP/2+"px; left: "+e.blockWidth*e.widthP/2+"px",attrs:{slot:"user"},slot:"user"},[e._v("aa")]):e._e(),s("div",{attrs:{slot:"reference"},slot:"reference"},[s("img",{style:"width: "+e.blockWidth*e.widthP+"px; height: "+e.blockHeight*e.heightP+"px",attrs:{src:e.blockUrl(t.taskId)}})])])],1)})],2)},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"member-center-operation-item"},[s("img",{attrs:{src:n("1810")}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"member-center-operation-item"},[s("img",{attrs:{src:n("1810")}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"member-center-operation-item"},[s("img",{attrs:{src:n("1810")}})])}],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"l-game-dialog"},[n("transition",{attrs:{name:e.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"l-game-dialog-content",on:{click:e.contentClick}},[e._t("content")],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"l-game-dialog-masker",on:{click:e.hidePop}}),e._t("user"),e._t("reference")],2)},A=[],O=(n("1c4c"),n("2909")),I=(n("28a5"),s["a"].prototype.$isServer),P=function(){return!I&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on".concat(t),n)}}(),R=function(e,t){if(e){var n=e.className,s=(n||"").split(" "),a=(t||"").split(" "),r=new Set([].concat(Object(O["a"])(s),Object(O["a"])(a)));e.className=Array.from(r).join(" ")}},T={props:{transition:{type:String,default:"slide-fade"}},data:function(){return{showPopper:!1}},methods:{togglePop:function(e){this.showPopper=!this.showPopper},contentClick:function(e){e.stopPropagation()},hidePop:function(){this.showPopper=!1}},mounted:function(){if(this.$slots.reference&&this.$slots.reference[0]){var e=this.referenceElm=this.$slots.reference[0].elm;P(e,"click",this.togglePop),R(e,"")}}},U=T,z=(n("90ae"),Object(i["a"])(U,C,A,!1,null,"69b8d04f",null));z.options.__file="l-game-dialog.vue";var E=z.exports,S=n("df71"),q=n.n(S),B=n("9cda"),$=n.n(B),W={components:{LGameDialog:E},data:function(){return{bgWidth:900,bgHeight:1427,bgSourceWidth:750,bgSourceHeight:1334,blockWidth:113,blockHeight:75,currentCoverage:1,step:0,positionY:0,bottomY:0,taskShow:!1,widthP:1,heightP:1,taskPosition:[[150,1231],[344,1135],[523,1050],[451,853],[332,761],[271,619],[357,491],[399,357],[379,252]],currentTask:{},tasks:[]}},methods:{blockUrl:function(e){return this.currentTask.taskId>=e?$.a:q.a},move:function(){this.currentCoverage++,this.moveAction()},moveAction:function(){this.positionY+=10,this.positionY<this.bottomY+this.step*(this.currentCoverage-1)&&requestAnimationFrame(this.moveAction)},loadAllTask:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/taskHandler/queryTaskList");case 2:t=e.sent,this.currentTask=t.currentTask,this.tasks=t.taskList;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),rewardCurrentTask:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/taskHandler/rewardCurrentTask",{taskId:this.currentTask.taskId});case 2:this.loadAllTask();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=document.body.clientWidth,t=document.body.clientHeight;this.widthP=e/this.bgSourceWidth,this.heightP=t/this.bgSourceHeight,this.loadAllTask()}},H=W,Z=(n("926c"),Object(i["a"])(H,w,_,!1,null,"926e4d7a",null));Z.options.__file="member-center.vue";var N=Z.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-info"},[e.userInfo?n("l-card",{staticClass:"member-info-base"},[n("div",{staticClass:"member-info-base-l"},[n("img",{staticClass:"l-avatar",attrs:{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}}),n("div",{staticClass:"member-info-base-l-some"},[n("div",[e._v(e._s(e.userInfo.nickName))]),n("div",[e._v("账号剩余芯豆： "+e._s(e.userInfo.points))])])]),n("div",{staticClass:"member-info-base-l"},[e._v("当前等级："+e._s(e.userInfo.vipLevel))]),n("div",{staticClass:"member-info-base-l"},[n("div",{staticClass:"member-info-base-l-label"},[e._v("累计获得芯豆：")]),n("div",{staticClass:"member-info-base-l-value"},[e._v(e._s(e.userInfo.totalPoints))])]),n("div",{staticClass:"member-info-base-help",on:{click:function(t){e.showHelp=!0}}},[n("van-icon",{attrs:{name:"question-o",size:"1.2rem"}}),n("span",[e._v("玩法规则")])],1)]):e._e(),e.userInfo?n("l-card",{staticClass:"member-info-baby"},[n("van-field",{attrs:{label:"姓名",placeholder:"输入姓名",required:""},model:{value:e.userInfo.nickName,callback:function(t){e.$set(e.userInfo,"nickName",t)},expression:"userInfo.nickName"}}),n("van-field",{attrs:{label:"手机号码",placeholder:"输入手机号码"},model:{value:e.userInfo.phoneNumber,callback:function(t){e.$set(e.userInfo,"phoneNumber",t)},expression:"userInfo.phoneNumber"}}),n("van-cell",{attrs:{title:"宝宝生日",value:e.birthdayStr,"value-class":"cell-value-right"},on:{click:function(t){e.showBirthday=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showBirthday,callback:function(t){e.showBirthday=t},expression:"showBirthday"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:function(t){e.showBirthday=!1},cancel:function(t){e.showBirthday=!1}},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),n("van-field",{attrs:{label:"宝宝性别",placeholder:"输入宝宝性别"},model:{value:e.userInfo.baby,callback:function(t){e.$set(e.userInfo,"baby",t)},expression:"userInfo.baby"}}),n("van-field",{attrs:{label:"收货人",placeholder:"输入收货人"},model:{value:e.userInfo.consignee,callback:function(t){e.$set(e.userInfo,"consignee",t)},expression:"userInfo.consignee"}}),n("van-field",{attrs:{label:"收货人地址",placeholder:"输入收货人地址"},model:{value:e.userInfo.address,callback:function(t){e.$set(e.userInfo,"address",t)},expression:"userInfo.address"}})],1):e._e(),n("van-button",{staticClass:"member-info-btn",attrs:{type:"primary",block:""},on:{click:e.updateUserInfo}},[e._v("保存修改")]),n("van-popup",{staticClass:"member-info-instruction",model:{value:e.showHelp,callback:function(t){e.showHelp=t},expression:"showHelp"}},[n("div",{staticClass:"member-info-instruction-close"},[n("van-icon",{attrs:{name:"close",size:"1.5rem"},on:{click:function(t){e.showHelp=!1}}})],1),n("div",{staticClass:"member-info-instruction-title"},[e._v("玩法规则")]),n("div",{staticClass:"member-info-instruction-content"},[e._v("\n      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget.\n    ")])])],1)},D=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"l-card"},[e._t("default")],2)},Y=[],M={data:function(){return{}}},F=M,G=(n("6234"),Object(i["a"])(F,J,Y,!1,null,"e60ae24a",null));G.options.__file="l-card.vue";var V=G.exports,Q=n("c1df"),K=n.n(Q),X={components:{LCard:V},data:function(){return{showBirthday:!1,birthday:new Date(2010,1,1),minDate:new Date(1990,1,1),maxDate:new Date(2030,1,1),showHelp:!1,userInfo:null}},methods:{queryUserInfo:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/userHandler/queryUserInfo",{});case 2:t=e.sent,this.userInfo=t.userInfo;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),updateUserInfo:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/userHandler/updateUserInfo",this.userInfo);case 2:l["a"].success("保存成功");case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{birthdayStr:function(){return K()(this.birthday).format("YYYY-MM-DD")}},mounted:function(){this.queryUserInfo()}},ee=X,te=(n("0ce2"),Object(i["a"])(ee,L,D,!1,null,"81a1d83c",null));te.options.__file="member-info.vue";var ne=te.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-msg"},e._l(e.messages,function(t,s){return n("div",{key:s,staticClass:"member-msg-item"},[n("img",{staticClass:"l-avatar-circle",attrs:{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}}),n("l-card",{staticClass:"member-msg-item-body"},[n("div",{staticClass:"member-msg-item-body-content"},[e._v("\n        恭喜您获得了30000芯豆，赶快去兑换奖励吧\n      ")]),n("div",{staticClass:"member-msg-item-body-assist"},[e._v("2小时前")])])],1)}),0)},ae=[],re={components:{LCard:V},data:function(){return{messages:[]}},methods:{queryMessages:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/messageHandler/getMessagePage",{pageNumber:1,pageCount:10});case 2:t=e.sent,this.messages=t.messages;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.queryMessages()}},ie=re,oe=(n("2fcf"),Object(i["a"])(ie,se,ae,!1,null,"3cc48670",null));oe.options.__file="member-msg.vue";var ce=oe.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-exchange"},[n("l-card",{staticClass:"member-exchange-info"},[n("div",[e._v("当前可用芯豆："+e._s(e.userInfo?e.userInfo.points:"暂无信息"))]),n("van-button",{attrs:{size:"small",type:"primary"}},[e._v("获得更多")])],1),n("div",{staticClass:"member-exchange-commodities"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.queryOnSaleItems},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.saleItems,function(t){return n("l-card",{key:t.itemId,staticClass:"member-exchange-commodities-item"},[n("img",{staticClass:"member-exchange-commodities-item-image",attrs:{src:t.pic}}),n("div",{staticClass:"member-exchange-commodities-item-title"},[e._v(e._s(t.name))]),n("div",{staticClass:"member-exchange-commodities-item-assist"},[n("div",{staticClass:"member-exchange-commodities-item-assist-left"},[n("div",{staticClass:"member-exchange-commodities-item-assist-left-l1"},[n("div",[e._v(e._s(t.pointsNeed)+"芯豆")]),n("div",[e._v("15.00")])]),n("div",{staticClass:"member-exchange-commodities-item-assist-left-l2"},[n("van-progress",{attrs:{percentage:e.figurePercent(t.stockQuantity,t.stockTotal),"show-pivot":!1}})],1),n("div",{staticClass:"member-exchange-commodities-item-assist-left-l3"},[e._v("仅剩 "+e._s(t.stockQuantity)+" 件")])]),n("div",{staticClass:"member-exchange-commodities-item-assist-right"},[n("van-stepper",{model:{value:t.amount,callback:function(n){e.$set(t,"amount",n)},expression:"saleItem.amount"}}),n("van-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){e.grabSaleItem(t)}}},[e._v("马上抢")])],1)])])}),1)],1)],1)},le=[],me=(n("7514"),n("be94")),de={components:{LCard:V},data:function(){return{from:0,rows:5,saleItems:[],loading:!1,finished:!1,userInfo:null}},methods:{queryOnSaleItems:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/exchangeShopHandler/queryOnSaleItems",{from:this.from,to:this.from+this.rows});case 2:t=e.sent,this.loading=!1,this.from+=this.rows,n=t.items,this.saleItems=[].concat(Object(O["a"])(this.saleItems),Object(O["a"])(n.map(function(e){return Object(me["a"])({},e,{amount:1})}))),n.length<this.rows&&(this.finished=!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),figurePercent:function(e,t){return(t-e)/t*100},grabSaleItem:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.amount,e.next=4,this.exchangeItem(t.itemId,n);case 4:s=this.saleItems.find(function(e){return e.itemId===t.itemId}),s.stockQuantity-=n,this.queryUserInfo(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(t){return e.apply(this,arguments)}return t}(),queryUserInfo:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("/wxWeb/api/userHandler/queryUserInfo",{});case 2:t=e.sent,this.userInfo=t.userInfo;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),exchangeItem:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n){var s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.post("/wxWeb/api/exchangeShopHandler/exchangeItem",{itemId:t,amount:n});case 3:e.next=16;break;case 5:e.prev=5,e.t0=e["catch"](0),e.t1=e.t0.code,e.next=2005===e.t1?10:2006===e.t1?12:3e3===e.t1?14:16;break;case 10:return this.$dialog.alert({message:"小主，芯豆不够了！",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"马上获取",cancelButtonText:"下次再说",beforeClose:function(e,t){"confirm"===e&&s.$router.replace({name:"member-center"}),t()}}),e.abrupt("break",16);case 12:return this.$dialog.alert({message:"请完善收货人信息，再兑换哟！",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"立即前往",cancelButtonText:"下次再说",beforeClose:function(e,t){"confirm"===e&&s.$router.replace({name:"member-center"}),t()}}),e.abrupt("break",16);case 14:return this.$dialog.alert({message:"来晚一步，商品已被抢完",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"放弃兑换",cancelButtonText:"反馈建议",beforeClose:function(e,t){t()}}),e.abrupt("break",16);case 16:case"end":return e.stop()}},e,this,[[0,5]])}));function t(t,n){return e.apply(this,arguments)}return t}()},mounted:function(){this.queryUserInfo()}},fe=de,pe=(n("5a80"),Object(i["a"])(fe,ue,le,!1,null,"30e4d0c5",null));pe.options.__file="member-exchange.vue";var be=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-register"},[n("div",{staticClass:"member-register-base"},[e._m(0),n("div",{staticClass:"member-register-base-msg"},[n("van-cell-group",[n("van-field",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("van-field",{attrs:{clearable:"",placeholder:"请输入你的验证码"},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}},[e.smsTimeout?n("van-button",{attrs:{slot:"button",size:"small",type:"default",disabled:""},slot:"button"},[e._v("重新获取("+e._s(e.smsTimeout)+"s)")]):n("van-button",{attrs:{slot:"button",size:"small",type:"default"},on:{click:e.sendVerifyCode},slot:"button"},[e._v("获取验证码")])],1)],1)],1),n("div",{staticClass:"member-register-base-operation"},[n("van-button",{attrs:{slot:"button",type:"primary",block:""},on:{click:e.register},slot:"button"},[e._v("注册")])],1)])])},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-register-base-image"},[n("img",{staticClass:"member-register-base-image-img",attrs:{src:"http://hengan-mall.oss-cn-shenzhen.aliyuncs.com/mall/img/1545285612454.jpg"}})])}],ge={data:function(){return{phoneNumber:"",verifyCode:"",smsTimeout:0}},methods:{sendVerifyCode:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.smsTimeout){e.next=17;break}if(!/^1[34578]\d{9}$/.test(this.phoneNumber)){e.next=14;break}return e.prev=2,e.next=5,this.axios.post("/wxWeb/api/smsHandler/getSmsCode",{phoneNumber:this.phoneNumber});case 5:this.smsTimeout=60,t=setInterval(function(){n.smsTimeout?--n.smsTimeout:clearInterval(t)},1e3),Object(l["a"])("发送验证码成功"),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:e.next=15;break;case 14:Object(l["a"])("请输入正确的手机号码");case 15:e.next=18;break;case 17:Object(l["a"])("不能重复发送验证码");case 18:case"end":return e.stop()}},e,this,[[2,10]])}));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.post("/wxWeb/api/smsHandler/registerPhone",{phoneNumber:this.phoneNumber,verifyCode:this.verifyCode});case 3:this.$router.replace({name:"member-center"}),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()}},ke=ge,je=(n("b93c"),Object(i["a"])(ke,he,ve,!1,null,"0a441578",null));je.options.__file="member-register.vue";var xe=je.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance"},[e._m(0),n("div",{staticClass:"activity-entrance-body"},[n("qriously",{attrs:{value:"Hello!",size:150}}),n("div",[e._v("长按识别二维码")])],1),e._m(1)])},we=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance-header"},[n("div",{staticClass:"activity-entrance-header-title"},[e._v("宝妈免费福利站")]),n("div",{staticClass:"activity-entrance-header-desc"},[e._v("扫码加关注，活动一键参与")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance-footer"},[n("div",[e._v("简单快捷")]),n("div",[e._v("福利满满")]),n("div",[e._v("促销优惠")])])}],_e={data:function(){return{}},mounted:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query.cdKey,!t){e.next=12;break}return e.next=4,this.axios.get("/wxWeb/api/queryUserStatus");case 4:return n=e.sent,n.subscribe,e.next=8,this.axios.get("/wxWeb/api/queryCdkeyUsage",{params:{cdKey:t}});case 8:s=e.sent,s.code,e.next=12;break;case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Ce=_e,Ae=(n("d8d9"),Object(i["a"])(Ce,ye,we,!1,null,"678dd7b0",null));Ae.options.__file="activity-entrance.vue";var Oe=Ae.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"activity-exchange"},[n("img",{attrs:{src:""}}),n("img",{attrs:{src:""}})])},Pe=[],Re={data:function(){return{bgSourceWidth:750,bgSourceHeight:1334,bgWidth:750,bgHeight:1334}},methods:{onResize:function(){var e=this.$refs.wrapper,t=e.clientWidth,n=e.clientHeight,s=this.bgWidth,a=this.bgHeight;t/n>this.bgSourceWidth/this.bgSourceHeight?(a=t/this.bgSourceWidth*this.bgSourceHeight,e.style.backgroundSize="auto 100%"):(s=n/this.bgSourceHeight*this.bgSourceWidth,e.style.backgroundSize="100% auto"),this.bgWidth=s,this.bgHeight=a},debounceResize:function(){var e=this,t=null;return function(){null!=t&&clearTimeout(t),t=setTimeout(e.onResize,1e3)}}},mounted:function(){document.body.onresize=this.debounceResize(),this.onResize()}},Te=Re,Ue=(n("166d"),Object(i["a"])(Te,Ie,Pe,!1,null,"f2a2b74c",null));Ue.options.__file="activity-exchange.vue";var ze=Ue.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance"},[e._m(0),n("div",{staticClass:"activity-entrance-body"},[n("qriously",{attrs:{value:"Hello!",size:150}}),n("div",[e._v("长按识别二维码")])],1),e._m(1)])},Se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance-header"},[n("div",{staticClass:"activity-entrance-header-title"},[e._v("宝妈免费福利站")]),n("div",{staticClass:"activity-entrance-header-desc"},[e._v("扫码加关注，活动一键参与")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-entrance-footer"},[n("div",[e._v("简单快捷")]),n("div",[e._v("福利满满")]),n("div",[e._v("促销优惠")])])}],qe={data:function(){return{}},mounted:function(){this.$route.params.cdKey}},Be=qe,$e=(n("a338"),Object(i["a"])(Be,Ee,Se,!1,null,"1b057625",null));$e.options.__file="wx-attention.vue";var We=$e.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[e._v("错误页面")])},Ze=[],Ne={data:function(){return{}},created:function(){},mounted:function(){document.title=""}},Le=Ne,De=(n("5497"),Object(i["a"])(Le,He,Ze,!1,null,"46da5339",null));De.options.__file="error.vue";var Je=De.exports;s["a"].use(p["a"]);var Ye=new p["a"]({mode:"history",base:"/",routes:[{name:"wx-login",path:"/wx-login",component:y,meta:{title:"微信登录"}},{name:"member-register",path:"/member-register",component:xe,meta:{title:"会员注册"}},{name:"member-center",path:"/member-center",component:N,meta:{title:"会员中心"}},{name:"member-info",path:"/member-info",component:ne,meta:{title:"个人信息"}},{name:"member-msg",path:"/member-msg",component:ce,meta:{title:"消息中心"}},{name:"member-exchange",path:"/member-exchange",component:be,meta:{title:"兑换商店"}},{name:"activity-entrance",path:"/activity-entrance",component:Oe,meta:{title:"恒安小轻芯专属福利活动"}},{name:"activity-exchange",path:"/activity-exchange",component:ze,meta:{title:"一物一码"}},{name:"wx-attention",path:"/wx-attention",component:We,meta:{title:"关注公众号"}},{name:"error",path:"/error",component:Je,meta:{title:"错误页"}}]}),Me=new Set(["member-center"]),Fe=new Set(["activity-entrance"]),Ge=new Set(["member-center"]);Ye.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n,a){var r,i,o,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(window.document.title=t.meta.title,e.prev=1,r=Me.has(t.name),i=Fe.has(t.name),o=Ge.has(t.name),!r){e.next=23;break}return e.next=8,s["a"].axios.post("/wxWeb/wxGetAuthorizeUrl",{targetUrl:"".concat(h()).concat(t.path)},{withCredentials:!1});case 8:if(c=e.sent,0!==c.code){e.next=12;break}return location.href=c.url,e.abrupt("return");case 12:if(!i&&!o){e.next=22;break}return e.next=15,s["a"].axios.get("/wxWeb/api/queryUserStatus");case 15:if(u=e.sent,!i||u.subscribe){e.next=19;break}return Ye.replace({name:"wx-attention"}),e.abrupt("return");case 19:if(!o||u.register){e.next=22;break}return Ye.replace({name:"member-register"}),e.abrupt("return");case 22:c.code;case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e["catch"](1),Ye.replace({name:"error"}),e.abrupt("return");case 29:a();case 30:case"end":return e.stop()}},e,this,[[1,25]])}));return function(t,n,s){return e.apply(this,arguments)}}());var Ve=Ye,Qe=n("2f62");s["a"].use(Qe["a"]);var Ke=new Qe["a"].Store({state:{},mutations:{},actions:{}}),Xe=n("a7fe"),et=n.n(Xe),tt=n("bc3a"),nt=n.n(tt),st=function(){},at=function(e){switch(e){case 2001:Object(l["a"])("非法的电话号码");break;case 2002:Object(l["a"])("非法的验证码");break;case 2003:Object(l["a"])("短信发送失败");break;case 2004:Object(l["a"])("短信验证失败");break;case 2005:break;case 2006:break;case 2007:break;case 2010:break;case 2011:break;case 2012:break;case 3e3:break;default:}},rt=b(),it=function(){nt.a.defaults.timeout=15e3,nt.a.defaults.headers["Content-Type"]="application/json;charset=UTF-8",nt.a.defaults.baseURL=rt,nt.a.defaults.withCredentials=!0;var e=window.localStorage.getItem("authKey");e&&(nt.a.defaults.headers.authKey=e),nt.a.interceptors.response.use(function(e){var t=e.data.code;return 0===t||2007===t?Promise.resolve(e.data):(t&&at(t),Promise.reject(e.data))},function(e){return Promise.reject(e)}),s["a"].use(et.a,nt.a),st()};s["a"].config.productionTip=!1,s["a"].use(l["b"]),s["a"].use(d.a),it(),new s["a"]({router:Ve,store:Ke,render:function(e){return e(u)}}).$mount("#app")},"5a80":function(e,t,n){"use strict";var s=n("6d06"),a=n.n(s);a.a},"5c48":function(e,t,n){},"5cd1":function(e,t,n){},6234:function(e,t,n){"use strict";var s=n("db00"),a=n.n(s);a.a},"6d06":function(e,t,n){},"6f25":function(e,t,n){},"7c55":function(e,t,n){"use strict";var s=n("5c48"),a=n.n(s);a.a},"81eb":function(e,t,n){"use strict";var s=n("5cd1"),a=n.n(s);a.a},"90ae":function(e,t,n){"use strict";var s=n("3f2c"),a=n.n(s);a.a},"926c":function(e,t,n){"use strict";var s=n("f186"),a=n.n(s);a.a},"931f":function(e,t,n){},"9cda":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcZeXl5iYmJmZmZiYmJmZmZiYmJWVlZmZmZiYmJiYmJmZmZmZmZiYmJmZmZmZmZmZmZmZmZqampmZmZiYmJmZmSB4FuoAAAAWdFJOUwAU8fyJwMwIRp8b11DpmGF4oDGhoqPrJZTrAAAAsUlEQVQ4y+2U2w6DIAyGgYLlDLLt/V91iuIimmzdrX5X/OmfQuiBsZt/wJUztTemOJqJcUx8Ujo+TCXbg1OCGxYgIkuiKaF4Zy0itqMUBZVqN3vInVWD3o7Bo9viXMiD1X+sGt0Wt1exlhAtr1gZ5n9dFU+Q+nJlGFRlEBKZD25R6lgthn6p+tOkuVBavmpHnPQAqQVb1vg1awb341sJP3C3C2G2CBNL2AOE7ULZWZflDcfMDrsWeOGzAAAAAElFTkSuQmCC"},a338:function(e,t,n){"use strict";var s=n("6f25"),a=n.n(s);a.a},b93c:function(e,t,n){"use strict";var s=n("2a2d"),a=n.n(s);a.a},d8d9:function(e,t,n){"use strict";var s=n("e752"),a=n.n(s);a.a},db00:function(e,t,n){},dd2c:function(e,t,n){},df71:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABFUExURUxpcf9pO/9pO/9pO/9pO/9pOf9qPP9pO/9qQ/9qO/9qPP9oO/9pPP9qPP9pO/9qO/9pO/9pPP9qO/9pO/9qOv9qO/9pO5ruxp4AAAAXdFJOUwBJ8fzAFMyfBokLG0JQ6dWYfmxdMdqjfCisDQAAALRJREFUOMvtlNkOgyAQRVmVRRAE/P9PLQqYKE0L7ZvteZobbiZkNgD+fALLPFMnhDNjYqHRCIuyskpp8TwksBHAoZAVIvRi9ciUkCPPCBFZKbxcrBOGR6ihCLYoinhlVSWE0Tof7/JO1vDC6rWRdEdyvdU1K+qquoLYLbIzIM6A0iEpUncLMJW6vo5ua9TE1zwR8qsRLFnN26ztf+2oQEddbztZzbvVsbGMN9+BjuvSc7N+lgeO/RAaHIFRrQAAAABJRU5ErkJggg=="},e752:function(e,t,n){},f186:function(e,t,n){}});
//# sourceMappingURL=app.2d680553.js.map